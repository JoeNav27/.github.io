
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Scroll Zoom and Rotate PNG</title>
</head>
<body>

    <div class="controls-container">
        <div class="mute-button" id="muteButton">
            <img src="VolumeEdgeMute.svg" alt="Mute Icon" id="muteIcon">
        </div>
        <input type="range" min="0" max="1" step="0.01" value="0.5" class="volume-slider" id="volumeSlider">
        
        <!-- Play Button inside controls-container -->
        <div id="playButton" class="play-button">
            <img src="https://static.wixstatic.com/shapes/2c4d6a_f15d0724f00846749b111e0eda121edb.svg" alt="Play">
        </div>
    </div>
    
    
      <audio id="backgroundMusic" loop>
        <source src="https://static.wixstatic.com/mp3/2c4d6a_c255fe3387d246ae8eb118565c2d9dca.mp3" type="audio/mpeg">
      </audio>

  <!-- Background Video -->
  <video autoplay muted loop>
    <source src="https://video.wixstatic.com/video/11062b_953b517691e34052afc53ccacc33fc67/1080p/mp4/file.mp4?fileUsed=false" type="video/mp4">
    Your browser does not support the video tag.
  </video>

  <!-- PNG Container -->
  <div class="png-container" id="pngZoom">
    <img src="https://static.wixstatic.com/media/2c4d6a_3f2309af3cce4322bfdc7023fdc1d896~mv2.png" alt="Overlay Image">
  </div>


  <!-- Links Container -->
  <div class="links-container" id="linksContainer">
    <a href="https://keoni83.wixstudio.com/test/projects" id="link1">Projects</a>
    <a href="https://keoni83.wixstudio.com/test/bespoke" id="link2">Bespoke</a>
    <a href="https://keoni83.wixstudio.com/test/contact" id="link3">Contact</a>
    <a href="https://keoni83.wixstudio.com/test/who" id="link4">Who</a>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
        const music = document.getElementById('backgroundMusic');
        const muteButton = document.getElementById('muteButton');
        const muteIcon = document.getElementById('muteIcon');
        const volumeSlider = document.getElementById('volumeSlider');
        const playButton = document.getElementById('playButton'); // Play button element
        
    
        music.volume = 0.5; // Set default volume
    
        // Ensure mute icon is correct on page load
        function updateMuteIcon() {
            muteIcon.src = music.muted ? "https://static.wixstatic.com/shapes/2c4d6a_4daca08c3b0c40658db2a6ce7f1c733f.svg" : "https://static.wixstatic.com/shapes/2c4d6a_23d8cb7247bd41749eabe2e4e25ca78a.svg";
        }
            // Play button event listener
        playButton.addEventListener('click', () => {
        music.muted = false;
        music.play();
        playButton.style.display = "none"; // Hide play button after clicking
                // Show mute button
                muteButton.style.opacity = "1";
                muteButton.style.pointerEvents = "auto";
        });
    
        // Listen for when the audio is ready
        music.addEventListener('canplaythrough', updateMuteIcon);
    
        // User must interact before playing audio
        muteButton.addEventListener('click', () => {
            if (music.paused) {
                music.play();
            }
            music.muted = !music.muted;
            updateMuteIcon();
        });
    
        volumeSlider.addEventListener('input', () => {
            music.volume = volumeSlider.value;
            music.muted = music.volume === 0; // Mute if volume is set to 0
            updateMuteIcon();
        });
    });
    

    const pngContainer = document.getElementById('pngZoom');
    const linksContainer = document.getElementById('linksContainer');
    const links = linksContainer.querySelectorAll('a');

    // Configuration for zoom and rotation
    const maxScroll = 1000; // Total scroll distance for full zoom
    const maxScale = 50;    // Maximum zoom level
    const maxRotation = 90; // Maximum rotation in degrees

    // Use the window's scroll event
    window.addEventListener('scroll', () => {
      // Get the current scroll position
      const scrollY = window.scrollY;

      // Calculate the scale based on scroll position
      let scale = 1 + (scrollY / maxScroll) * (maxScale - 1);

      // Cap the scale to the maximum level
      if (scale > maxScale) scale = maxScale;

      // Calculate the rotation angle based on scroll position
      let rotation = (scrollY / maxScroll) * maxRotation;

      // Cap the rotation to the maximum level
      if (rotation > maxRotation) rotation = maxRotation;

      // Apply both scale and rotation
      pngContainer.style.transform = `scale(${scale}) rotate(${rotation}deg)`;

      // Reveal links when reaching the bottom
      if (window.innerHeight + scrollY >= document.documentElement.scrollHeight) {
        linksContainer.style.opacity = 1; // Make the container visible
        linksContainer.style.pointerEvents = 'auto';

        // Add a delay to reveal each link one by one
        links.forEach((link, index) => {
          setTimeout(() => {
            link.classList.add('visible');
          }, index * 500); // 500ms delay between each link
        });
      }
    });
  </script>

</body>
</html>
